{"version":3,"sources":["Components/Header.jsx","Components/Footer.jsx","Components/config.js","Components/Preloader.jsx","Components/GoodsItem.jsx","Components/GoodsList.jsx","Components/Cart.jsx","Components/BasketItem.jsx","Components/BasketList.jsx","Components/Alert.jsx","Components/Shop.jsx","App.js","index.js"],"names":["Header","react_default","a","createElement","className","href","id","target","Footer","Date","getFullYear","API_KEY","process","API_URL","Preloader","GoodsItem","props","name","description","price","full_background","_props$addToCart","addToCart","Function","prototype","_props$removeFromCart","removeFromCart","_props$order","order","_useState","useState","_useState2","Object","slicedToArray","isBuyActive","setBuyActive","useEffect","findIndex","orderItem","src","alt","onClick","style","fontSize","GoodsList","_props$goods","goods","length","map","item","assign","key","Cart","_props$quantity","quantity","_props$handleBasketSh","handleBasketShow","BasketItem","_props$incQuantity","incQuantity","_props$decQuantity","decQuantity","BasketList","totalPrice","reduce","sum","el","Alert","_props$name","_props$closeAlert","closeAlert","timerId","setTimeout","clearTimeout","Shop","setGoods","_useState3","_useState4","loading","setLoading","_useState5","_useState6","setOrder","_useState7","_useState8","isBasketShow","setBasketShow","_useState9","_useState10","alertName","setAlertName","itemId","newOrder","filter","fetch","headers","Authorization","then","response","json","data","featured","itemIndex","newItem","objectSpread2","concat","toConsumableArray","index","App","Fragment","ReactDOM","render","StrictMode","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.45f8d598.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nfunction Header() {\r\n    return (\r\n        <nav className='deep-purple lighten-2'>\r\n            <div className='nav-wrapper'>\r\n                <a\r\n                    href='/'\r\n                    className='brand-logo deep-purple-text text-lighten-5'\r\n                >\r\n                    React Shop\r\n                </a>\r\n                <ul id='nav-mobile' className='right hide-on-med-and-down'>\r\n                    <li>\r\n                        <a\r\n                            href='https://github.com/Esde4th/react-shop-project'\r\n                            target='_blank'\r\n                        >\r\n                            Repo\r\n                        </a>\r\n                    </li>\r\n                </ul>\r\n            </div>\r\n        </nav>\r\n    );\r\n}\r\n\r\nexport { Header };\r\n","import React from 'react';\r\n\r\nfunction Footer() {\r\n    return (\r\n        <footer className='page-footer deep-purple lighten-3 '>\r\n            <div className='footer-copyright'>\r\n                <div className='container deep-purple-text text-lighten-5'>\r\n                    © {new Date().getFullYear()} Copyright Text\r\n                    <a\r\n                        className='deep-purple-text text-lighten-5 right'\r\n                        href='https://github.com/Esde4th/react-shop-project'\r\n                        target='_blank'\r\n                    >\r\n                        Repo\r\n                    </a>\r\n                </div>\r\n            </div>\r\n        </footer>\r\n    );\r\n}\r\n\r\nexport { Footer };\r\n","const API_KEY = process.env.REACT_APP_API_KEY;\r\n\r\nconst API_URL = 'https://fortniteapi.io/v1/shop?lang=en';\r\n\r\nexport { API_KEY, API_URL };\r\n","import React from 'react';\r\n\r\nfunction Preloader() {\r\n    return (\r\n        <div className='progress deep-purple lighten-5'>\r\n            <div className='indeterminate deep-purple lighten-1'></div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport { Preloader };\r\n","import React from 'react';\r\nimport { useEffect, useState } from 'react';\r\n\r\nfunction GoodsItem(props) {\r\n    const {\r\n        id,\r\n        name,\r\n        description,\r\n        price,\r\n        full_background,\r\n        addToCart = Function.prototype,\r\n        removeFromCart = Function.prototype,\r\n        order = [],\r\n    } = props;\r\n\r\n    const [isBuyActive, setBuyActive] = useState(false);\r\n\r\n    const addOrRemoveFromCart = () => {\r\n        if (!isBuyActive) {\r\n            addToCart({ id, name, price });\r\n            setBuyActive(true);\r\n        } else {\r\n            removeFromCart(id);\r\n            setBuyActive(false);\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        if (isBuyActive) {\r\n            const itemIndex = order.findIndex(\r\n                (orderItem) => orderItem.id === id\r\n            );\r\n            if (itemIndex < 0) {\r\n                setBuyActive(false);\r\n            }\r\n        }\r\n    }, [order]);\r\n\r\n    return (\r\n        <div className='card'>\r\n            <div className='card-image'>\r\n                <img src={full_background} alt={name} />\r\n            </div>\r\n            <div className='card-content'>\r\n                <span className='card-title'>{name}</span>\r\n                <p>{description}</p>\r\n            </div>\r\n            <div className='card-action'>\r\n                <button\r\n                    className='btn'\r\n                    onClick={() => {\r\n                        addOrRemoveFromCart();\r\n                    }}\r\n                >\r\n                    {isBuyActive ? 'in cart' : 'buy'}\r\n                </button>\r\n                <span className='right' style={{ fontSize: '1.8rem' }}>\r\n                    ${price}\r\n                </span>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport { GoodsItem };\r\n","import React from 'react';\r\nimport { GoodsItem } from './GoodsItem';\r\n\r\nfunction GoodsList(props) {\r\n    const {\r\n        goods = [],\r\n        removeFromCart = Function.prototype,\r\n        addToCart = Function.prototype,\r\n        order = [],\r\n    } = props;\r\n\r\n    if (!goods.length) {\r\n        return <h3>Ничего нет :(</h3>;\r\n    }\r\n\r\n    return (\r\n        <div className='goods'>\r\n            {goods.map((item) => (\r\n                <GoodsItem\r\n                    key={item.id}\r\n                    {...item}\r\n                    addToCart={addToCart}\r\n                    removeFromCart={removeFromCart}\r\n                    order={order}\r\n                />\r\n            ))}\r\n        </div>\r\n    );\r\n}\r\n\r\nexport { GoodsList };\r\n","import React from 'react';\r\n\r\nfunction Cart(props) {\r\n    const { quantity = 0, handleBasketShow = Function.prototype } = props;\r\n    return (\r\n        <div\r\n            className='cart deep-purple darken-1 white-text'\r\n            onClick={handleBasketShow}\r\n        >\r\n            <i className='material-icons'>shopping_cart</i>\r\n            {quantity ? (\r\n                <span className='cart-quantity'>{quantity}</span>\r\n            ) : null}\r\n        </div>\r\n    );\r\n}\r\n\r\nexport { Cart };\r\n","import React from 'react';\r\n\r\nfunction BasketItem(props) {\r\n    const {\r\n        id,\r\n        name,\r\n        price,\r\n        quantity,\r\n        removeFromCart = Function.prototype,\r\n        incQuantity = Function.prototype,\r\n        decQuantity = Function.prototype,\r\n    } = props;\r\n\r\n    return (\r\n        <li className='collection-item grey darken-4  deep-purple-text text-lighten-4'>\r\n            {name}{' '}\r\n            <i\r\n                className='material-icons basket-quantity'\r\n                onClick={() => decQuantity(id)}\r\n            >\r\n                remove\r\n            </i>{' '}\r\n            x{quantity}{' '}\r\n            <i\r\n                className='material-icons basket-quantity'\r\n                onClick={() => incQuantity(id)}\r\n            >\r\n                add\r\n            </i>{' '}\r\n            = ${price * quantity}\r\n            <span className='secondary-content'>\r\n                <i\r\n                    className='material-icons  deep-purple-text text-lighten-3 basket-item-delete'\r\n                    onClick={() => removeFromCart(id)}\r\n                >\r\n                    close\r\n                </i>\r\n            </span>\r\n        </li>\r\n    );\r\n}\r\n\r\nexport { BasketItem };\r\n","import React from 'react';\r\nimport { BasketItem } from './BasketItem';\r\n\r\nfunction BasketList(props) {\r\n    const {\r\n        order = [],\r\n        handleBasketShow = Function.prototype,\r\n        removeFromCart = Function.prototype,\r\n        incQuantity = Function.prototype,\r\n        decQuantity = Function.prototype,\r\n    } = props;\r\n\r\n    const totalPrice = order.reduce((sum, el) => {\r\n        return sum + el.price * el.quantity;\r\n    }, 0);\r\n\r\n    return (\r\n        <ul className='collection basket-list'>\r\n            <li className='collection-item active'>CART</li>\r\n            {order.length ? (\r\n                order.map((item) => {\r\n                    return (\r\n                        <BasketItem\r\n                            key={item.id}\r\n                            {...item}\r\n                            removeFromCart={removeFromCart}\r\n                            incQuantity={incQuantity}\r\n                            decQuantity={decQuantity}\r\n                        />\r\n                    );\r\n                })\r\n            ) : (\r\n                <li className='collection-item grey darken-4 deep-purple-text text-lighten-4'>\r\n                    No items here\r\n                </li>\r\n            )}\r\n\r\n            <li className='collection-item active'>\r\n                TOTAL COST: ${totalPrice}\r\n            </li>\r\n            <li className='collection-item grey darken-4 deep-purple-text text-lighten-4'>\r\n                <button className='btn'>buy</button>\r\n            </li>\r\n\r\n            <i\r\n                className='material-icons grey-text text-darken-4 basket-close'\r\n                onClick={handleBasketShow}\r\n            >\r\n                close\r\n            </i>\r\n        </ul>\r\n    );\r\n}\r\n\r\nexport { BasketList };\r\n","import React from 'react';\r\nimport { useEffect } from 'react';\r\n\r\nfunction Alert(props) {\r\n    const { name = '', closeAlert = Function.prototype } = props;\r\n\r\n    useEffect(() => {\r\n        const timerId = setTimeout(closeAlert, 3000);\r\n\r\n        return () => {\r\n            clearTimeout(timerId);\r\n        };\r\n    }, [name]);\r\n\r\n    return <div className='toast'>{name} added to cart</div>;\r\n}\r\n\r\nexport { Alert };\r\n","import React from 'react';\r\nimport { useState, useEffect } from 'react';\r\nimport { API_KEY, API_URL } from './config';\r\n\r\nimport { Preloader } from './Preloader';\r\nimport { GoodsList } from './GoodsList';\r\nimport { Cart } from './Cart';\r\nimport { BasketList } from './BasketList';\r\nimport { Alert } from './Alert';\r\n\r\nfunction Shop() {\r\n    const [goods, setGoods] = useState([]);\r\n    const [loading, setLoading] = useState(true);\r\n    const [order, setOrder] = useState([]);\r\n    const [isBasketShow, setBasketShow] = useState(false);\r\n    const [alertName, setAlertName] = useState('');\r\n\r\n    const addToCart = (item) => {\r\n        const itemIndex = order.findIndex(\r\n            (orderItem) => orderItem.id === item.id\r\n        );\r\n\r\n        if (itemIndex < 0) {\r\n            const newItem = {\r\n                ...item,\r\n                quantity: 1,\r\n            };\r\n            setOrder([...order, newItem]);\r\n        } else {\r\n            const newOrder = order.map((orderItem, index) => {\r\n                if (index === itemIndex) {\r\n                    return {\r\n                        ...orderItem,\r\n                        quantity: orderItem.quantity + 1,\r\n                    };\r\n                } else {\r\n                    return orderItem;\r\n                }\r\n            });\r\n\r\n            setOrder(newOrder);\r\n        }\r\n        setAlertName(item.name);\r\n    };\r\n\r\n    const removeFromCart = (itemId) => {\r\n        const newOrder = order.filter((el) => el.id !== itemId);\r\n        setOrder(newOrder);\r\n    };\r\n\r\n    const incQuantity = (itemId) => {\r\n        const newOrder = order.map((orderItem) => {\r\n            if (orderItem.id === itemId) {\r\n                return {\r\n                    ...orderItem,\r\n                    quantity: orderItem.quantity + 1,\r\n                };\r\n            } else {\r\n                return orderItem;\r\n            }\r\n        });\r\n        setOrder(newOrder);\r\n    };\r\n\r\n    const decQuantity = (itemId) => {\r\n        const newOrder = order.map((orderItem) => {\r\n            if (orderItem.id === itemId) {\r\n                return {\r\n                    ...orderItem,\r\n                    quantity:\r\n                        orderItem.quantity > 1 ? orderItem.quantity - 1 : 1,\r\n                };\r\n            } else {\r\n                return orderItem;\r\n            }\r\n        });\r\n        setOrder(newOrder);\r\n    };\r\n\r\n    const handleBasketShow = () => {\r\n        setBasketShow(!isBasketShow);\r\n    };\r\n\r\n    const closeAlert = () => {\r\n        setAlertName('');\r\n    };\r\n\r\n    useEffect(function getGoods() {\r\n        fetch(API_URL, {\r\n            headers: {\r\n                Authorization: API_KEY,\r\n            },\r\n        })\r\n            .then((response) => {\r\n                return response.json();\r\n            })\r\n            .then((data) => {\r\n                data.featured && setGoods(data.featured);\r\n                setLoading(false);\r\n            });\r\n    }, []);\r\n\r\n    return (\r\n        <main className='container content'>\r\n            <Cart quantity={order.length} handleBasketShow={handleBasketShow} />\r\n            {loading ? (\r\n                <Preloader />\r\n            ) : (\r\n                <GoodsList\r\n                    goods={goods}\r\n                    addToCart={addToCart}\r\n                    removeFromCart={removeFromCart}\r\n                    order={order}\r\n                />\r\n            )}\r\n            {isBasketShow && (\r\n                <BasketList\r\n                    order={order}\r\n                    handleBasketShow={handleBasketShow}\r\n                    removeFromCart={removeFromCart}\r\n                    incQuantity={incQuantity}\r\n                    decQuantity={decQuantity}\r\n                />\r\n            )}\r\n            {alertName && <Alert name={alertName} closeAlert={closeAlert} />}\r\n        </main>\r\n    );\r\n}\r\n\r\nexport { Shop };\r\n","import React from 'react';\nimport { Header } from './Components/Header';\nimport { Footer } from './Components/Footer';\nimport { Shop } from './Components/Shop';\n\nfunction App() {\n    return (\n        <>\n            <Header />\n            <Shop />\n            <Footer />\n        </>\n    );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}